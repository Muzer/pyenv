#!/usr/bin/env python
# Warn the user when upgrading board firmware.

import pygtk, gtk, gobject

def bar_timeout(bar):
	bar.pulse()
	return True

window = gtk.Window(gtk.WINDOW_TOPLEVEL)
window.connect("destroy", gtk.main_quit)
window.set_border_width(30)

vbox = gtk.VBox()
window.add(vbox)

message = gtk.Label("Updating board firmware. Do not switch anything off or unplug any cables.")
message.set_line_wrap(True)
message.set_justify(gtk.JUSTIFY_CENTER)
vbox.pack_end(message)

bar = gtk.ProgressBar()
bar.set_pulse_step(0.02)
vbox.pack_end(bar)

timer = gobject.timeout_add(50, bar_timeout, bar)

window.show_all()
gtk.main()
